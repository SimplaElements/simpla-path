<script>!function(){"use strict";var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),r=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},n=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},a=function t(e,r,n,i){var a=Object.getOwnPropertyDescriptor(e,r);if(void 0===a){var o=Object.getPrototypeOf(e);null!==o&&t(o,r,n,i)}else if("value"in a&&a.writable)a.value=n;else{var u=a.set;void 0!==u&&u.call(i,n)}return n},o=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},u=Array.prototype.forEach,l=function(){function r(e){if(t(this,r),!e)throw new Error("Must be given a document");this.ownerDocument=e,this._attrMap=new Map,this._elementMap=new WeakMap,this._observe()}return e(r,[{key:"define",value:function(t,e){this._attrMap.set(t,e),this._upgradeAttr(t)}},{key:"get",value:function(t,e){var r=this._elementMap.get(t);if(r)return r.get(e)}},{key:"_getConstructor",value:function(t){return this._attrMap.get(t)}},{key:"_observe",value:function(){var t=this,e=this.ownerDocument,r=this._downgrade.bind(this),n=this._upgradeElement.bind(this);this.observer=new MutationObserver(function(e){u.call(e,function(e){if("attributes"===e.type){var i=t._getConstructor(e.attributeName);i&&t._found(e.attributeName,e.target,e.oldValue)}else u.call(e.removedNodes,r),u.call(e.addedNodes,n)})}),this.observer.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0})}},{key:"_upgradeAttr",value:function(t,e){e=e||this.ownerDocument;var r=e.querySelectorAll("["+t+"]"),n=!0,i=!1,a=void 0;try{for(var o,u=r[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=o.value;this._found(t,l)}}catch(t){i=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw a}}}},{key:"_upgradeElement",value:function(t){if(1===t.nodeType){var e=!0,r=!1,n=void 0;try{for(var i,a=t.attributes[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;this._getConstructor(o.name)&&this._found(o.name,t)}}catch(t){r=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(r)throw n}}var u=!0,l=!1,c=void 0;try{for(var s,h=this._attrMap.keys()[Symbol.iterator]();!(u=(s=h.next()).done);u=!0){var o=s.value;this._upgradeAttr(o,t)}}catch(t){l=!0,c=t}finally{try{!u&&h.return&&h.return()}finally{if(l)throw c}}}}},{key:"_downgrade",value:function(t){var e=this._elementMap.get(t);if(e){var r=!0,n=!1,i=void 0;try{for(var a,o=e.values()[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var u=a.value;u.disconnectedCallback&&u.disconnectedCallback()}}catch(t){n=!0,i=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}this._elementMap.delete(t)}}},{key:"_found",value:function(t,e,r){var n=this._elementMap.get(e);n||(n=new Map,this._elementMap.set(e,n));var i=n.get(t),a=e.getAttribute(t);if(i)null==a&&i.value?(i.value=a,i.disconnectedCallback&&i.disconnectedCallback(),n.delete(t)):a!==i.value&&(i.value=a,i.changedCallback&&i.changedCallback(r,a));else{var o=this._getConstructor(t);i=new o,n.set(t,i),i.ownerElement=e,i.name=t,i.value=a,i.connectedCallback&&i.connectedCallback()}}}]),r}(),c=function(t){return function(e){return e!==t}},s=function(){function r(){t(this,r),this.children=[]}return e(r,[{key:"addChild",value:function(t){return t.parent!==this&&(this.children=[].concat(o(this.children),[t]),t.parent=this,!0)}},{key:"removeChild",value:function(t){this.children=this.children.filter(c(t)),t.parent=null}},{key:"refreshPath",value:function(){var t=[];this.parent&&this.parent.path&&t.push(this.parent.path),this.partial&&t.push(this.partial),this.path=t.join(".")}},{key:"pluck",value:function(){var t=this.parent,e=this.children;this.parent=null,this.children=[],e.forEach(t.addChild,t)}},{key:"path",set:function(t){this._path=t,this.children.forEach(function(t){return t.refreshPath()})},get:function(){return this._path}},{key:"parent",set:function(t){this._parent=t,this.refreshPath()},get:function(){return this._parent}},{key:"partial",set:function(t){this._partial=t,this.refreshPath()},get:function(){return this._partial}}]),r}(),h=function(o,u){return function(l){function s(){return t(this,s),i(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return n(s,l),e(s,[{key:"addChild",value:function(t){var e=r(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"addChild",this).call(this,t);e&&this.children.filter(c(t)).forEach(function(t){t.attachToParent()})}},{key:"connectedCallback",value:function(){this.setPartialToValue(),this.attachToParent()}},{key:"disconnectedCallback",value:function(){this.setPartialToValue(),this.pluck()}},{key:"changedCallback",value:function(){this.setPartialToValue()}},{key:"attachToParent",value:function(){var t=void 0,e=void 0;do t=t?t.parentElement:this.ownerElement.parentElement,e=o(t);while(t&&!e);e?e.addChild(this):u.addChild(this)}},{key:"setPartialToValue",value:function(){this.partial=this.value}},{key:"path",set:function(t){a(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"path",t,this),this.ownerElement.uid=t},get:function(){return r(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"path",this)}}]),s}(s)},f=function(r,a){return function(r){function a(){return t(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return n(a,r),e(a,[{key:"refreshPath",value:function(){this.path=this.partial||""}}]),a}(h(r,a))};window.SimplaPaths={observe:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=new l(t),n=new s,i=function(t){return!!t},a=function(t){return function(e){return r.get(t,e)}},o=function(t){return["gid","sid"].map(a(t)).find(i)};n.partial=e,r.define("sid",h(o,n)),r.define("gid",f(o,n))}},window.SimplaPaths.observe(document)}();</script>